#!/usr/bin/env bash
set -euo pipefail

# Convenience wrapper for running HDFS CLI commands against the local-data
# managed Hadoop environment (config overlay, env vars, etc).
#
# Usage:
#   hdfs-b version
#   hdfs-b dfs -ls /
#   hdfs-b dfs -put file.txt /tmp/

script_dir="$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" && pwd)"
local_data="$script_dir/local-data"

exec "$local_data" env exec -- hdfs "$@"
